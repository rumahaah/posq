 {% load humanize %}{% load extratemplate %}<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <!-- <link rel="stylesheet" href="style.css"> -->
        <style type="text/css">
           * {
               font-size: 12px;
               /*font-family: Lucida Bright;*/
               /*font-family: garamond;*/
               /*font-family: georgia;*/
               /*font-family: Helvetica;*/
               /*font-family: Candara;*/
               /*font-family: Calibri;*/
               font-family: Perpetua;
               /*font-family: Cambria;*/
           }
           td, th, tr, table {
               border-top: 1px solid gray;
               border-collapse: collapse;
               font-size: 11px;
           }
           td.description, th.description {
               width: 95px;
               max-width: 95px;
               text-transform: uppercase;
           }
           td.quantity, th.quantity {
               width: 20px;
               max-width: 20px;
               word-break: break-all;
           }
           td.price, th.price {
               width: 40px;
               max-width: 40px;
               word-break: break-all;
               text-align: right;
           }
           .centered {
               text-align: center;
               align-content: center;
           }
           .ticket {
               width: 155px;
               max-width: 155px;
           }
           img {
               max-width: inherit;
               width: inherit;
           }
           @media print {
               .hidden-print,
               .hidden-print * {
                   display: none !important;
               }
           }
        </style>
        <title>Receipt - Order</title>
    </head>
    <body>
        <div class="ticket">
            <!-- <img src="./logo.png" alt="Logo"> -->
            <p class="centered" ><span style="font-weight: bold;">LONTONG MEDAN</span>
                <br>Juanda Depok
                <br>{% now "j F Y H:i" %}</p>
            <table>
                <thead>
                    <tr>
                        <th class="">Items</th>
                        <th class="quantity">Qty</th>
                        <th class="price">Price</th>
                    </tr>
                </thead>
                <tbody>{% for order in orders %}{% for orderitem in order.order_item_set.all %}
                    <tr>
                        <td class="description">{{ orderitem.product.name }} @{{ orderitem.product.price|floatformat|intcomma }}</td>
                        <td class="quantity centered">{{ orderitem.quantity }}</td>
                        <!-- <td class="price">{{ orderitem.product.price|floatformat|intcomma }}</td> -->
                        <td class="price">{% multiply orderitem.quantity orderitem.product.price %}</td>
                    </tr>{% endfor %}{% endfor %}
                    <tr>
                        <td colspan="2" class="description centered" style="font-weight: bold;">Total</td>
                        <!-- <td></td> -->
                        <td class="price" style="font-weight: bold;">{% for order in orders %}{{ order.total_price|floatformat|intcomma }}{% endfor %}</td>
                    </tr>
                </tbody>
            </table>
            <p class="centered">Thanks for your purchase :-)</p>
        </div>
        <button id="btnPrint" class="hidden-print">Print</button>
        <a class="" href="" class="hidden-print">Print</a>
        <script type="text/javascript">
           const $btnPrint = document.querySelector("#btnPrint");
           $btnPrint.addEventListener("click", () => {
               window.print();
           });

         window.onload = window.print;
        </script>

    </body>
</html>